---
title: 批量拉取代码
tags: []
originContent: ''
categories:
  - 程序员
toc: false
date: 2021-06-10 10:08:18
---

> 场景：目录中有多个git项目，想要更新批量拉取一下这些项目的最新代码。

实现如下：

```bash
#!/bin/sh
for dir in $(ls -d */); do
    cd $dir
    if [ -d ".git" ]; then
        branch=$(git symbolic-ref --short -q HEAD)
        if [ "$branch" != "master" ]; then
            echo "skip $dir branch: $branch"
        else
            echo "dir:$dir branch: $branch"
            git pull origin $branch
        fi
    fi
    cd ..
done
```

扫码目录下的所有项目，如果发现当前项目在master分支，那么pull一下代码。

